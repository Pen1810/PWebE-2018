var History=window.History;function init_other_product(){$(document).on("click","#other-product .other-product-nav a",function(e){if(tokopedia.processAjax==0){e.preventDefault();var url=$(this).attr('href');var uri=parseUri(url);var relative=uri.relative;History.replaceState({other_product:'change_page'},document.title,relative);}
return false;});}
function other_product_url_changed(){var url=window.location.href;var uri=parseUri(url);var relative=uri.relative;var po=parseUri(url).queryKey.po;if(po==""|po==undefined){po=1;}
init_ajax_other_product(po);}
function init_review_list(){var load_ajax_review=$('input#load-ajax-review').val();if(load_ajax_review==1){var dt=new Object();var this_prod_id=$('.container-product').attr('id');var this_id_obj=this_prod_id.split('-');dt.p_id=this_id_obj.pop();dt.action='review_list';$.ajax({url:'/ajax/product-review-list.pl',global:false,type:"GET",data:(dt),dataType:"json",success:function(result){if(result.message_error){var message_error=tokopedia.render_message('error',result.message_error);tokopedia.alert(tokopedia.loc('ERROR'),message_error);}
else if(result.success){$('#review-list').html(result.review_list);init_carousel();if(result.total_review>=1){init_tooltip();init_helpful_counter();}}
else{tokopedia.alert_error();}},error:function(XMLHttpRequest,textStatus,errorThrown){},beforeSend:function(){$('#review-list').html('<div id="loading_review_conytainer" class="well text-center"><small><div class="spinner-ajax-loader"></div> <span>'+tokopedia.loc('LOADING_REVIEW')+'</span></small></div>');tokopedia.process_ajax();},complete:function(){tokopedia.clear_process_ajax();init_shop_reputation_score();init_helpful_counter();}});}}
var other_product=[];function init_ajax_other_product(po){var State=History.getState();var dt=new Object();var url=State.url;var uri=parseUri(url);var uri_path=uri.path;dt.shop_id=$('input#shop-id').val();dt["-id"]=$('input#product-id').val();dt.rows=5;dt.full_domain=location.host;dt.scheme=location.protocol.replace(":","");dt.device="desktop";dt.source="other_product";if(po==0||po==undefined||po==""){if($('#other-product-page').val()==""){dt.po=1;}
else{dt.po=$('#other-product-page').val();}}
else{dt.po=po;}
dt.start=(dt.po-1)*dt.rows;$.ajax({url:search_ajax_product_url_v3,global:false,type:"GET",data:(dt),dataType:"json",success:function(result){if(result.message_error){var message_error=tokopedia.render_message('error',result.message_error);tokopedia.alert(tokopedia.loc('ERROR'),message_error);}
else{other_product=result.data.products;var content=construct_other_product_template(result,dt);$('#other-product-container').html(content);if(result.total_review>=1){init_rating();init_rating_tab();}}},error:function(XMLHttpRequest,textStatus,errorThrown){tokopedia.alert_error();},beforeSend:function(){$('#other-product-container').html('<div id="loading_other_product_container" class="well text-center"><small><div class="spinner-ajax-loader"></div> <span>'+tokopedia.loc('LOADING')+'</span></small></div>');tokopedia.process_ajax();},complete:function(){tokopedia.clear_process_ajax();click_other_product();other_product_ee_datalayer({event:'view'});}});}
function construct_other_product_template(data,dt){var path=location.protocol+'//'+location.host+location.pathname;var products_template='';for(var i=0;i<data.data.products.length;i++){var product=data.data.products[i];var wholesale_price_container='';if(product.wholesale_price.length>0){var wholesale_template='';for(var j=0;j<product.wholesale_price.length;j++){var wholesale=product.wholesale_price[j];if(j==product.wholesale_price.length-1){wholesale_template+='<li>'+'<span>'+wholesale.quantity_min+' - '+wholesale.quantity_max+'</span>'+'<span class="pull-right">'+wholesale.price+'</span>'+'</li>';}
else{wholesale_template+='<li>'+'<span>&#8805; '+wholesale.quantity_min+'</span>'+'<span class="pull-right">'+wholesale.price+'</span>'+'</li>';}};wholesale_price_container+='<span class="grosir-hover">'+'<div class="grosir-sign"><i class="icon-info-alt"></i>'+tokopedia.loc('Wholesale')+'</div>'+'<div class="hovered">'+'<ul>'+
wholesale_template+'</ul>'+'</div>'+'</span>';}
if(product.url.indexOf("?")===-1){product.url+="?src=other";}else{product.url+="&src=other";}
products_template+='<div class="product">'+'<div itemprop="isRelatedTo" itemscope itemtype="http://schema.org/Product" class="product-hover relative">'+'<a href="'+product.url+'">'+
wholesale_price_container+'<div class="product-image">'+'<span><img itemprop="image" alt="'+product.name+'" src="'+product.image_url+'" title="'+product.name+'"></span>'+'</div>'+'<div class="meta-product">'+'<div class="name name--other-product" itemprop="name">'+
product.name+'</div>'+'<div class="row-fluid">'+'<div itemprop="offers" itemscope itemtype="http://schema.org/Offer" class="span12">'+'<span itemprop="price" class="price">'+product.price+'</span><meta itemprop="priceCurrency" content="IDR" />'+'</div>'+'</div>'+'</div>'+'</a>'+'</div>'+'</div>';};var arrow_nav='';if(data.header.total_data>dt.rows){if(dt.start>0){var po=parseInt(dt.po)-1;arrow_nav+='<a href="'+path+'?po='+po+'" class="mr-5"><i class="icon-circle-arrow-left"></i></a>';}
if((dt.start+dt.rows)<data.header.total_data){if(po==0||po==undefined||po==""){var po=2;}else{var po=parseInt(dt.po)+1;}
arrow_nav+='<a href="'+path+'?po='+po+'"><i class="icon-circle-arrow-right"></i></a>';}}
var rendered='';if(data.data.products.length>0){rendered='<div id="other-product">'+'<hr class="mb-5"/>'+'<h4 class="fs-14 mt-5 mb-5">'+'<i class="icon-th"></i>'+tokopedia.loc("Other product from this shop")+'&nbsp;'+'<span class="ml-5 other-product-nav">'+
arrow_nav+'</span>'+'</h4>'+'<hr class="mt-5 mb-15"/>'+'<div class="grid-shop-product">'+
products_template+'</div>'+'</div>';}
return rendered;}
function init_preview_note(){$('.preview-note').click(function(){var url=this;var uri=parseUri(url);var qs=uri.queryKey;var n_id=qs.id;tokopedia.dialog_ajax('/ajax/shop/note.pl?action=show_dialog_preview_note&id='+n_id);return false;});}
function run_ajax_queue_product_info(function_array){var loop=setInterval(function(){if(tokopedia.processAjax==0){var function_to_run=function_array.shift();function_to_run();}
if(function_array.length==0){clearInterval(loop);}},1000);}
function get_cashback(){}
function init_product_video(){if(typeof prodvid!=='undefined'){$.ajax({url:prodvid.url,type:"GET",headers:{'Req-Date':prodvid.Authorization.date,'Authorization':prodvid.Authorization.auth},success:function(result){if(result.data&&result.data.length>0){result.data[0].video.forEach(function(vid){$('.product-video-row').append(`<div class="product-video-row__item">
                                        <a class="product-video" data-video-id="`+vid.url.trim()+`"></a>
                                    </div>`);});init_product_video_dom();$('.prodvid-section').removeClass('hide');}},});}}
function init_product_video_dom(){$('.product-video').colorbox({innerWidth:'640',innerHeight:'390',iframe:true,fixed:true,transition:'none',rel:'pdp-video-group',className:'pdp-video-colorbox',current:'{current} of {total}',onOpen:function(){$('html').addClass('dialog-mode');var dt=new Object();dt.categoryParent=$('.search-cat-box').children().eq(2).text();dt.categoryChild=dt.categoryParent+"> "+$('.search-cat-box').children().eq(4).text();dt.product=window.location.pathname;dt.shop=dt.product.split("/")[1];var video_id=$(this).data('video-id');var cookie_key=dt.product.split('/').join('_')+"_"+video_id;if(!Cookies.get(cookie_key)){$.ajax({url:"/ajax/product-video-tracker.pl",type:"POST",data:dt});Cookies.set(cookie_key,'true',{expires:20/1440});}},onClosed:function(){$('html').removeClass('dialog-mode');}});$('.product-video').each(function(){var self=$(this),width=self.width(),videoID=self.data('video-id');self.css('background-image','url("https://i.ytimg.com/vi/'+videoID+'/default.jpg")').attr('href','https://www.youtube.com/embed/'+videoID+'?autoplay=1&amp;enablejsapi=1&amp;rel=0&amp;iv_load_policy=3').html(createPlayBtn(width));});function createPlayBtn(width){var btnHtml=[];btnHtml.push('<div class="product-video__playBtn"');if(width<=640){btnHtml.push(' style="transform: scale(0.563888888888889);"');}
btnHtml.push('>');btnHtml.push('<svg>');btnHtml.push('<path fill-rule="evenodd" clip-rule="evenodd" fill="#1F1F1F" class="product-video__btnSvg" d="M84.15,26.4v6.35c0,2.833-0.15,5.967-0.45,9.4c-0.133,1.7-0.267,3.117-0.4,4.25l-0.15,0.95c-0.167,0.767-0.367,1.517-0.6,2.25c-0.667,2.367-1.533,4.083-2.6,5.15c-1.367,1.4-2.967,2.383-4.8,2.95c-0.633,0.2-1.316,0.333-2.05,0.4c-0.767,0.1-1.3,0.167-1.6,0.2c-4.9,0.367-11.283,0.617-19.15,0.75c-2.434,0.034-4.883,0.067-7.35,0.1h-2.95C38.417,59.117,34.5,59.067,30.3,59c-8.433-0.167-14.05-0.383-16.85-0.65c-0.067-0.033-0.667-0.117-1.8-0.25c-0.9-0.133-1.683-0.283-2.35-0.45c-2.066-0.533-3.783-1.5-5.15-2.9c-1.033-1.067-1.9-2.783-2.6-5.15C1.317,48.867,1.133,48.117,1,47.35L0.8,46.4c-0.133-1.133-0.267-2.55-0.4-4.25C0.133,38.717,0,35.583,0,32.75V26.4c0-2.833,0.133-5.95,0.4-9.35l0.4-4.25c0.167-0.966,0.417-2.05,0.75-3.25c0.7-2.333,1.567-4.033,2.6-5.1c1.367-1.434,2.967-2.434,4.8-3c0.633-0.167,1.333-0.3,2.1-0.4c0.4-0.066,0.917-0.133,1.55-0.2c4.9-0.333,11.283-0.567,19.15-0.7C35.65,0.05,39.083,0,42.05,0L45,0.05c2.467,0,4.933,0.034,7.4,0.1c7.833,0.133,14.2,0.367,19.1,0.7c0.3,0.033,0.833,0.1,1.6,0.2c0.733,0.1,1.417,0.233,2.05,0.4c1.833,0.566,3.434,1.566,4.8,3c1.066,1.066,1.933,2.767,2.6,5.1c0.367,1.2,0.617,2.284,0.75,3.25l0.4,4.25C84,20.45,84.15,23.567,84.15,26.4z M33.3,41.4L56,29.6L33.3,17.75V41.4z"></path>');btnHtml.push('<polygon fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" points="33.3,41.4 33.3,17.75 56,29.6"></polygon>');btnHtml.push('</svg>');btnHtml.push('</div>');return btnHtml.join('');}}
function init_ajax_keyword_insight(){var pid=$('#product-id').val();var keyword_cookie_key='keyword_insight:'+pid;if(document.cookie.indexOf(keyword_cookie_key)<0&&typeof keyword_insight_url!=='undefined'&&typeof keyword_insight_param!=='undefined'){var expiry=new Date();expiry.setTime(expiry.getTime()+(1000*60*10));document.cookie=""+keyword_cookie_key+" = 1; expires = "+expiry.toGMTString();$.ajax({url:keyword_insight_url,global:false,type:"GET",dataType:"json",beforeSend:function(request)
{request.setRequestHeader("Content-MD5",ki_md5);request.setRequestHeader("Req-Date",ki_date);request.setRequestHeader("Authorization",ki_auth);},success:function(result){},error:function(XMLHttpRequest,textStatus,errorThrown){}});}}
function getAttributionListInfo(){var result=new Object();var uri=parseUri(location.href);var qKey=uri.queryKey;if(qKey.at){result.at=decodeURIComponent(qKey.at).replace(/\+/g,' ');}
if(qKey.lt){var lt=decodeURIComponent(qKey.lt).replace(/\+/g,' ');result.lt=lt;}
return result;}
var product_name=$("a.p_title").text();var shop_name=$("a#shop-name-info").text();function viewProduct_datalayer(){var shop_type='regular';if(parseInt(shop_is_official)==1)shop_type='official_store';else if(parseInt(shop_is_gold)==1)shop_type='gold_merchant';var brand_name='none / other';if(typeof product_variant!='undefined'&&product_variant.brand!=undefined&&product_variant.brand.brand_name!=undefined&&product_variant.brand.brand_name!=''){brand_name=product_variant.brand.brand_name;};var variant='none / other';if($('div#product-variant-container').children().length>0){var temp=[];$('div.variant.active').filter((i,elm)=>{temp.push(elm.innerText);});if(temp.length>0)variant=temp.join(' / ');};var addParam=getAttributionListInfo();window.dataLayer=window.dataLayer||[];dataLayer.push({event:'viewProduct',eventCategory:'product detail page',eventAction:'view product detail page',eventLabel:`${shop_type} - ${shop_name} - ${product_name}`,ecommerce:{currencyCode:'IDR',detail:{actionField:{list:(addParam.lt)?addParam.lt:''},products:[{name:product_name,id:product_id,price:price,category:category_tree,brand:brand_name,variant:variant,dimension80:(addParam.at)?addParam.at:''}]}},key:product_key,shop_name:shop_name,shop_id:''+shop_id,shop_domain:shop_domain,shop_location:$("span[itemprop='addressLocality']").text(),shop_is_gold:shop_is_gold,category_id:category_id,url:product_url,picture:product_picture,cc_url:domain_url+cc_url,short_desc:$("p[itemprop='description']").text().trim(),shop_type:shop_type});};function init_ta_handler(){var basket_rcmd_key={'product_id':parseInt(product_id),'product_name':product_name,'child_cat_id':parseInt(category_id),'source_shop_id':shop_id};window.taDisplay=window.taDisplay||[];window.taDisplay.push({'id':'promo-pdp','ad_url':product_ads_ajax_go,'tkpd_url':domain_url,'tome_url':tome_url,'xparams':JSON.stringify(basket_rcmd_key),'trigger':'none'});}
$(document).ready(function(){History.replaceState({other_product:'change_page'},document.title);History.Adapter.bind(window,'statechange',function(){other_product_url_changed();});var array_of_function=[init_review_list];run_ajax_queue_product_info(array_of_function);get_cashback();init_other_product();init_preview_note();init_product_video();viewProduct_datalayer();$('div.variant').on('selectedVariant',()=>{viewProduct_datalayer();});init_ajax_keyword_insight();init_ta_handler();var title_share=$('meta[name=title]').attr("content");var hashtags=$('#twitter-hash-tags').val();var url=window.location.href.split('?')[0];$('.product-socialholder__button').jsSocials({showLabel:false,showCount:false,shares:[{share:"facebook",url:url},{share:"twitter",text:title_share,hashtags:hashtags,via:"Tokopedia",url:url},{share:"googleplus",url:url},{share:"blogger",title:title_share,url:url},"copy"],});$('.jssocials-share-copy').find('.jssocials-share-link').removeAttr('href');$('.jssocials-share-copy').click(function(){var share_copy_exist=$('#share-copy-text').length;if(share_copy_exist==0){$('.jssocials-shares').append('<input type="text" id="share-copy-text" class="inline-block span7 mb-0" name="url" value="'+url+'">');$('#share-copy-text').focus();$('#share-copy-text').select();}
else{$('#share-copy-text').remove();}});var first=true;$(window).scroll(function(){$('#other-product-container').each(function(){var objectBottom=$(this).offset().top+$(this).outerHeight();var windowBottom=$(window).scrollTop()+$(window).innerHeight();if(objectBottom<windowBottom&&first){first=false;init_ajax_other_product();}});});});var campaignCache={};function checkCampaign(PID){if(campaignCache[PID]!=undefined){buildCampaignLayout(campaignCache[PID]);}
else{$.ajax({url:mc_get_products_info,data:{pid:PID},type:"GET",success:function(result){if(result.data.length){buildCampaignLayout(result.data[0]);campaignCache[PID]=result.data[0];}},error:function(XMLHttpRequest,textStatus,errorThrown){tokopedia.alert_error();}});}}
var cmpType="";function buildCampaignLayout(data){htmlDiscountPrice=$('div.product-pricetag');htmlDiscountedPrice=$('div.product-discounted-pricetag');htmlOriginalPrice='<div itemprop="offers" itemscope itemtype="http://schema.org/Offer" class="product-pricetag_normal p-0 mt-10 text-center">'+'<span class="bold" itemprop="price">'+data.original_price_idr+'</span>'+'</div>';var promoWording='';if(data.campaign_type_name){cmpType=data.campaign_type_name;promoWording=`${cmpType} ${tokopedia.loc('MC_PDP_ENDS_IN_NO_PROMO')}`;}else{promoWording=tokopedia.loc('MC_PDP_ENDS_IN');}
htmlPercentage='<div class="discount-label">'+data.percentage_amount+'% OFF</div>'+'<div class="promo-info text-center">'+'<p class="mb-0 bold fs-11">'+promoWording+'</p>'+'<div class="campaign-countdown">'+'<div id="c-countdown-clock"></div>'+'</div>'+'</div>';if($(htmlDiscountPrice).length>0){$(htmlDiscountPrice).addClass('product-discounted-pricetag').removeClass('product-pricetag mt-10');$(htmlOriginalPrice).insertBefore(htmlDiscountPrice);$(htmlPercentage).insertAfter(htmlDiscountPrice);if(data.campaign_type_name){$("#wholesale").addClass("hide");}}
else if($(htmlDiscountedPrice).length>0){$('.product-pricetag_normal').remove();$('.discount-label').remove();$('.promo-info').remove();$(htmlOriginalPrice).insertBefore(htmlDiscountedPrice);$(htmlPercentage).insertAfter(htmlDiscountedPrice);if(data.campaign_type_name){$("#wholesale").addClass("hide");}}
data.end_date=moment(data.end_date,'YYYY-MM-DD HH:mm:ss').format('YYYY-MM-DD HH:mm:ss');initCampaignCountdown(data.end_date);}
function initCampaignCountdown(expiredTime){var timeout=false;$('#c-countdown-clock').countdown(expiredTime).on('update.countdown',function(event){var format='%Hh : %Mm : %Ss';if(event.offset.totalDays==0){$('.promo-info').css("display","inline");$(this).html(event.strftime(format));}}).on('finish.countdown',function(event){var promoEndWording='';if(cmpType!=''){promoEndWording=`${cmpType} ${tokopedia.loc('MC_PDP_EXPIRED_NO_PROMO')}`;}else{promoEndWording=tokopedia.loc('MC_PDP_EXPIRED_NO_PROMO');}
$(this).html(promoEndWording).parent().addClass('disabled');timeout=true;if(timeout&&$('.promo-info').css('display')!='inline'){$('.promo-info').remove();$('.discount-label').remove();$('.product-pricetag_normal').remove();$('.product-discounted-pricetag').removeClass('product-discounted-pricetag').addClass('product-pricetag mt-10');}});}
function removeCampaign(){var htmlDiscountedPrice=$('div.product-discounted-pricetag');$('.product-pricetag_normal').remove();$('.discount-label').remove();$('.promo-info').remove();$(htmlDiscountedPrice).addClass('product-pricetag mt-10').removeClass('product-discounted-pricetag');}
function click_other_product(){$('#other-product-container').on('click','.product',e=>{other_product_ee_datalayer({event:'click',pname:$(e.currentTarget).find('.name').text(),ppos:$('.product').index(e.currentTarget)+1});})}
function other_product_ee_datalayer(param){var datalayer={};if(param.event==='view'){datalayer={event:'productView',eventCategory:'product detail page',eventAction:'impression - other product',eventLabel:'',ecommerce:{currencyCode:'IDR',impressions:[]}};$.each($('#other-product-container .product'),(idx,val)=>{for(var i=0;i<=other_product.length-1;i++){var pname=$(val).find('.name').text();var d=other_product[i];if(d.name===pname){var temp={brand:'none / other',category:`${d.category_breadcrumb}/${d.category_id}`,id:''+d.id,list:'/productdetail - other product',name:pname,position:i+1,price:d.price.replace(/[^0-9]/g,''),variant:'none /other'};datalayer.ecommerce.impressions.push(temp);temp={};break;}}})}else if(param.event==='click'){datalayer={event:'productClick',eventCategory:'product detail page',eventAction:'click - other product',eventLabel:'',ecommerce:{click:{actionField:{list:'/productdetail - other product'},products:[]}}};for(var i=0;i<=other_product.length-1;i++){var d=other_product[i];if(d.name===param.pname){var temp={brand:'none / other',category:`${d.category_breadcrumb}/${d.category_id}`,id:''+d.id,name:param.pname,position:param.ppos,price:d.price.replace(/[^0-9]/g,''),variant:'none / other'};datalayer.ecommerce.click.products.push(temp);break;}}}
dataLayer.push(datalayer);}$(document).ready(function(){var title_share=$('meta[name=title]').attr("content");var desc=$('meta[name=description]').attr("content").replace('\"','').replace("\'",'');var hashtags=$('#twitter-hash-tags').val();var url=window.location.href.split('?')[0];var queryVars={'utm_source':'desktop','utm_medium':'share','utm_campaign':'product_share'};var linkData={campaign:'Desktop',channel:'Copy',feature:'Product',data:{}};var requestLine=false;var copyURL="";var lastVariantURL="";var _len=url.length-1;if(url[_len]=="/"){url=url.substring(0,_len);}
var is_official=$("#is_official");var shop_name=$("#shop_name");var url_fb_share=url;var url_twitter_share=url;var url_google_share=url;var url_blogger_share=url;if(is_official.length>0&&shop_name.length>0&&is_official.val()=="1"){var sn=shop_name.val();url+='?utm_campaign='+encodeURIComponent(sn)+'&utm_medium=share_button&utm_source=';var url_fb_share=url+'facebook';var url_twitter_share=url+'twitter';var url_google_share=url+'googleplus';var url_blogger_share=url+'blogger';url=url+'share';}
$('.product-socialholder__button').jsSocials({showLabel:false,showCount:false,shares:[{share:"facebook",url:url_fb_share},{share:"twitter",text:title_share,hashtags:hashtags,via:"Tokopedia",url:url_twitter_share},{share:"googleplus",url:url_google_share},{share:"blogger",title:title_share,text:desc,url:url_blogger_share},"copy"],});$('.jssocials-shares').prepend('<div class="jssocials-share jssocials-share-line"><div class="line-it-button" data-lang="en" data-type="share-c" data-url=""></div></div>');var s=document.createElement("script");s.type="text/javascript";s.async="async";s.defer="defer";$("body").append(s);s.src="https://d.line-scdn.net/r/web/social-plugin/js/thirdparty/loader.min.js";s.onload=function(){LineIt.loadButton();};$('.jssocials-share-line').on('mouseenter',function(){if(requestLine==false){linkData.channel='Line';queryVars.utm_content="line";var link_with_utm=appendQueryString(window.location.href,queryVars);var applink=appendQueryString('product/'+product_id,queryVars);linkData.data={'$desktop_url':link_with_utm,'$android_url':link_with_utm,'$ios_url':link_with_utm,'$android_deeplink_path':applink,'$ios_deeplink_path':applink,};if(ads_auth.user_id>0){branch.setIdentity(ads_auth.user_id.toString(),function(err,data){});}
branch.link(linkData,function(err,link){var share_url="https://social-plugins.line.me/widget/share?url="+encodeURIComponent(link)+"&buttonType=share-c&lang=en&type=share&id=0&origin="+window.location.href;$('.line-it-button').attr('src',share_url);$('.line-it-button').attr('data-url',link);requestLine=true;});}})
$.each($('.jssocials-share-link'),function(index,val){var link_href=$(val).attr('href').replace('\"','').replace("\'",'');$(val).addClass("open-share-dialog");$(val).attr('href',link_href);$(val).removeAttr('href');})
function appendQueryString(url,queryVars){if(url.indexOf("utm_content")>-1){url=window.location.href.split('?')[0];}
var firstSeperator=(url.indexOf('?')==-1?'?':'&');var queryStringParts=new Array();for(var key in queryVars){queryStringParts.push(key+'='+queryVars[key]);}
var queryString=queryStringParts.join('&');return url+firstSeperator+queryString;}
$('.open-share-dialog').click(function(){var isCopy=false;if(ads_auth.user_id>0){branch.setIdentity(ads_auth.user_id.toString(),function(err,data){});}
if($(this).parent().hasClass('jssocials-share-facebook')){linkData.channel='Facebook';queryVars.utm_content="facebook";}else if($(this).parent().hasClass('jssocials-share-twitter')){linkData.channel='Twitter';queryVars.utm_content="twitter";}else if($(this).parent().hasClass('jssocials-share-googleplus')){linkData.channel='Google+';queryVars.utm_content="googleplus";}else if($(this).parent().hasClass('jssocials-share-blogger')){linkData.channel='Blogger';queryVars.utm_content="blogger";}else if($(this).parent().hasClass('jssocials-share-line')){linkData.channel='Line';}else{isCopy=true;linkData.channel='Copy';queryVars.utm_content="copy";}
var $oshare=$(this);var shareWindow;if(isCopy){if(copyURL!=""&&lastVariantURL==window.location.href){copyButtonCallback(copyURL);return false;}}else{shareWindow=window.open('','_blank','directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no, scrollbars=yes, resizable=yes, width=800, height=600');}
var link_with_utm=appendQueryString(window.location.href,queryVars);var applink=appendQueryString('product/'+product_id,queryVars);linkData.data={'$desktop_url':link_with_utm,'$android_url':link_with_utm,'$ios_url':link_with_utm,'$android_deeplink_path':applink,'$ios_deeplink_path':applink,};branch.link(linkData,function(err,link){$oshare.append("<div class='social-second hide'></div>");$('.social-second').jsSocials({showLabel:false,showCount:false,shares:[{share:"facebook",url:link},{share:"twitter",text:title_share,hashtags:hashtags,via:"Tokopedia",url:link},{share:"googleplus",url:link},{share:"blogger",title:title_share,text:desc,url:link},],});var sharedBranchLink="";if(isCopy){copyButtonCallback(link);return false;}else if(linkData.channel=="Facebook"){sharedBranchLink=$oshare.find('.social-second').find('.jssocials-share-facebook').find('a').attr('href');}else if(linkData.channel=="Twitter"){sharedBranchLink=$oshare.find('.social-second').find('.jssocials-share-twitter').find('a').attr('href');}else if(linkData.channel=="Google+"){sharedBranchLink=$oshare.find('.social-second').find('.jssocials-share-googleplus').find('a').attr('href');}else if(linkData.channel=="Blogger"){sharedBranchLink=$oshare.find('.social-second').find('.jssocials-share-blogger').find('a').attr('href');}else if(linkData.channel=="Line"){sharedBranchLink=$oshare.find('.social-second').find('.jssocials-share-line').find('a').attr('href');}
sharedBranchLink=sharedBranchLink.replace('\"','').replace("\'",'');shareWindow.location.href=sharedBranchLink;});});$('.jssocials-share-copy').find('.jssocials-share-link').removeAttr('href').removeAttr('onclick');function copyButtonCallback(link_with_utm){var share_copy_exist=$('#share-copy-text').length;var share_copy_non_absolute=$('#share-copy-non-absolute').val();var hide_gimmick=$('#hide_gimmick').val();copyURL=link_with_utm;if(share_copy_exist==0){lastVariantURL=window.location.href;if(share_copy_non_absolute==1){$('.jssocials-shares').append('<input type="text" id="share-copy-text" style="float:right;clear:both;" class="mb-0 copy-text" name="url" value="'+link_with_utm+'">');}else{$('.jssocials-shares').append('<input type="text" id="share-copy-text" style="position:absolute;margin-top:2px;" class="copy-text inline-block mb-0" name="url" value="'+link_with_utm+'">');}
$('.social-second').find('input').remove();if(hide_gimmick==1){$('.share-list-gimmick').hide();}
$('#share-copy-text').focus();$('#share-copy-text').select();var isCopied=copySelectionText();if(isCopied){createtooltip("Copied!");showtooltip($('#share-copy-text').offset(),$('#share-copy-text').width()-20);}else{createtooltip("Press Ctrl/Cmd + C to Copy");showtooltip($('#share-copy-text').offset(),$('#share-copy-text').width()-100);}}else{$('.copy-text').remove();document.body.removeChild(tooltip);if(hide_gimmick==1){$('.share-list-gimmick').show();}}}
$('.jssocials-share').click(function(event){if(!$(this).hasClass('gtmfired')){var media=$(this).attr('class');media=media.replace('jssocials-share jssocials-share-','');gtm_sharing_widget(media);$(this).addClass('gtmfired');}});});function copySelectionText(){var copysuccess;try{copysuccess=document.execCommand("copy");}catch(e){copysuccess=false;}
return copysuccess;}
var tooltip,hidetooltiptimer;function createtooltip(text){tooltip=document.createElement('div');tooltip.style.cssText='position:absolute; background:black; color:white; padding:2px;z-index:10000;'
+'border-radius:2px; font-size:11px;box-shadow:1px 1px 1px rgba(0,0,0,.4);'
+'opacity:0;transition:opacity 0.3s'
tooltip.innerHTML=text;document.body.appendChild(tooltip);}
function showtooltip(e,width){var evt=e;var widthElem=width/2;clearTimeout(hidetooltiptimer);tooltip.style.left=evt.left+widthElem+'px';tooltip.style.top=evt.top-25+'px';tooltip.style.opacity=0.8;hidetooltiptimer=setTimeout(function(){tooltip.style.opacity=0;},2000);}